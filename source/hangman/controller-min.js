$(document).ready(function(){function e(){$("#gameContent").append('<div id="gameTitle">HANGMAN</div><div id="startButton" class="button">BEGIN</div>'),$("#startButton").on("click",function(){n()})}function n(){$("#gameContent").empty(),$("#gameContent").append('<div id="pixHolder"><img id="hangman" src="source/hangman/man.png"></div>'),$("#gameContent").append('<div id="wordHolder"></div>'),$("#gameContent").append('<div id="clueHolder"></div>'),$("#gameContent").append('<div id="guesses">Previous guesses:</div>'),$("#gameContent").append('<div id="feedback"></div>'),$("#gameContent").append('<form><input type="text" id="dummy" ></form>'),t();var e=s.length;for(v=0,m=[],i=0;i<e;i++)$("#wordHolder").append('<div class="tile" id=t'+i+"></div>");$("#clueHolder").append("HINT: "+f),$(document).on("keyup",d),$(document).on("click",function(){$("#dummy").focus()}),$("#dummy").focus()}function t(){var e=Math.floor(Math.random()*l.length);s=l[e][0],f=l[e][1],l.splice(e,1),p=s.split("")}function d(e){if(229==e.keyCode&&(e.keyCode=$("#dummy").val().slice($("#dummy").val().length-1,$("#dummy").val().length).toUpperCase().charCodeAt(0)),e.keyCode>64&&e.keyCode<91){var n=!1,t=!1,d=String.fromCharCode(e.keyCode).toLowerCase();for(i=0;i<m.length;i++)d==m[i]&&(t=!0);if(!t){for(m.push(d),i=0;i<p.length;i++)d==p[i]&&(n=!0,$("#t"+i).append(d));n?o():a(d)}}}function o(){var e="";for(i=0;i<s.length;i++)e+=$("#t"+i).text();e==s&&r()}function a(e){v++;var n=v*-75+"px";$("#guesses").append("  "+e),$("#hangman").css("left",n),6==v&&u()}function r(){document.activeElement.blur(),$(document).off("keyup",d),$("#feedback").append("CORRECT!<br><br><div id='replay' class='button'>CONTINUE</div>"),$("#replay").on("click",function(){l.length>0?n():c()})}function u(){document.activeElement.blur(),$(document).off("keyup",d),$("#feedback").append("You're Dead!<br>(answer= "+s+")<div id='replay' class='button'>CONTINUE</div>"),$("#replay").on("click",function(){l.length>0?n():c()})}function c(){$("#gameContent").empty(),$("#gameContent").append('<div id="finalMessage">You have finished all the words in the game!</div>')}var l=new Array,p=new Array,m=new Array,s,f,v;$.getJSON("source/hangman/quizbank.json",function(n){for(i=0;i<n.wordlist.length;i++)l[i]=new Array,l[i][0]=n.wordlist[i].word,l[i][1]=n.wordlist[i].clue;e()})});